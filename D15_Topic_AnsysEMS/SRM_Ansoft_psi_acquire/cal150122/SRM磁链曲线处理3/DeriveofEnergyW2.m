clc;clear;
Flux1x24=0:0.1:2.3;    % arithmetic progression,total 24 lines, data of Flux
theta26x1=0:0.9:22.5;   % total 26 rows, the data of theta
W26x24=[0	0.144903748	0.579599137	1.30408472	2.318390895	3.622265332	5.216834557	7.105596994	9.290233872	11.76786358	14.53150896	17.56978497	20.87175081	24.43514852	28.26912342	32.39397912	36.84124409	41.65367841	46.8841991	52.58575737	58.80162377	65.5646494	72.89724369	80.81137816
0	0.1442018	0.576203324	1.296438705	2.305072907	3.601552788	5.187048782	7.065049682	9.2374484	11.70152434	14.45045225	17.47293303	20.75767909	24.30182289	28.11409102	32.21452849	36.63459369	41.41709932	46.6155551	52.28437935	58.46845071	65.2018942	72.50812496	80.39983435
0	0.141697864	0.565669215	1.272731949	2.263137524	3.536127786	5.092725428	6.93639683	9.069694142	11.49047279	14.19245908	17.16483503	20.3954415	23.87946929	27.62420043	31.64873954	35.98416189	40.67333628	45.77112092	51.33620104	57.4187533	64.0570936	71.27798612	79.0965519
0	0.137146904	0.547337104	1.231444864	2.189714362	3.421488648	4.927343193	6.710639155	8.775068596	11.11968491	13.7393452	16.62451891	19.76231812	23.14465789	26.77582483	30.67294994	34.86607235	39.39801658	44.32478382	49.71131579	55.61760684	62.09014222	69.1622041	76.85369583
0	0.130302364	0.520605837	1.171038486	2.081935417	3.253311206	4.684790125	6.379476092	8.342638786	10.57560462	13.07536694	15.834666	18.84166706	22.08479029	25.56279473	29.28904478	33.29115936	37.6111699	42.30532001	47.44408972	53.10073377	59.33566861	66.19298061	73.70073913
0	0.120658509	0.483896386	1.087172729	1.932216658	3.020639613	4.350049214	5.922967138	7.7459082	9.824643402	12.16014756	14.74913892	17.58403365	20.65302202	23.9479831	27.47503411	31.25676179	35.33205213	39.75606602	44.6005041	49.95014291	55.88463685	62.46417519	69.72925996
0	0.107595865	0.433615941	0.971745137	1.727080733	2.70288755	3.894395414	5.305477383	6.943101194	8.818726438	10.9398898	13.3095468	15.92601407	18.78306407	21.87029038	25.18297136	28.73367605	32.55406538	36.69484346	41.22551464	46.2351654	51.82166499	58.06818604	65.03272593
0	0.088465037	0.354778107	0.797961	1.414036609	2.21655188	3.216543947	4.416907673	5.827490957	7.457493498	9.320270099	11.4253845	13.7778012	16.37784487	19.2213275	22.29974712	25.61114673	29.17379406	33.02872458	37.23960867	41.89254757	47.09571987	52.9582651	59.56370814
0	0.062277268	0.254108902	0.574929819	1.026942876	1.622886901	2.395604967	3.362338599	4.525778522	5.89882163	7.49044311	9.313216019	11.3771773	13.68860568	16.25005938	19.06054002	22.11527759	25.41642908	28.98906366	32.88545587	37.18456447	41.99265216	47.43697712	53.63368303
0	0.046187293	0.187350608	0.424631116	0.756244537	1.194680906	1.760888559	2.493677253	3.417767524	4.53555273	5.860252204	7.401898342	9.17279638	11.18375796	13.44312179	15.95676108	18.72828942	21.75854585	25.05579384	28.65393151	32.61906542	37.04831294	42.07191798	47.83140356
0	0.037000647	0.148714978	0.33647262	0.600182056	0.938525434	1.365442702	1.901055107	2.589048064	3.464708308	4.532455527	5.805008838	7.293050372	9.007916298	10.96154343	13.16504777	15.62881913	18.36271305	21.37541376	24.68424497	28.33531418	32.41154231	37.03290629	42.35034704
0	0.031002271	0.12401889	0.279910873	0.4992708	0.78120014	1.12537655	1.544735463	2.057445641	2.703655249	3.528233053	4.543647135	5.760831592	7.193619472	8.852287453	10.74832937	12.89526779	15.30891626	18.00756858	21.01132617	24.35153867	28.091366	32.33495054	37.22631626
0	0.026643043	0.106420268	0.239850606	0.427573978	0.669530824	0.964646363	1.31349731	1.728006222	2.224346983	2.834726696	3.609529702	4.572550159	5.734256377	7.110434375	8.711216606	10.54790992	12.63695283	15.00160889	17.67194892	20.68429264	24.09022287	27.97550313	32.46819277
0	0.023311782	0.093109102	0.209637186	0.373376035	0.584530473	0.842825323	1.147194097	1.498846906	1.908203701	2.39050149	2.970230167	3.697415915	4.607158301	5.712769806	7.031559414	8.576490367	10.36143854	12.40783715	14.74864666	17.42807042	20.50132149	24.04395185	28.16706227
0	0.020791333	0.083085166	0.186964378	0.332695476	0.520509169	0.750415945	1.022045682	1.334535526	1.689728879	2.096815794	2.569852996	3.127976469	3.815674573	4.675426236	5.727402616	6.990739111	8.483742165	10.22576832	12.24562324	14.58941664	17.32012533	20.51803621	24.28729683
0	0.018741285	0.074918285	0.168549582	0.299790072	0.46882445	0.675761279	0.920520281	1.20263043	1.521480025	1.879321672	2.2843081	2.749144891	3.289335262	3.943048465	4.756417276	5.75728518	6.969267893	8.419810805	10.1359945	12.15431116	14.53721624	17.37388373	20.77874397
0	0.017083348	0.068313358	0.153682372	0.273245615	0.427101874	0.61534761	0.838040674	1.095049928	1.3858701	1.710225749	2.070673627	2.474449566	2.932931304	3.460037842	4.087226349	4.860465489	5.816256257	6.988014912	8.411577701	10.12152511	12.17076551	14.64789324	17.67656971
0	0.01568127	0.062715792	0.141092102	0.250821381	0.391947387	0.564533468	0.768666887	1.004364259	1.27143916	1.569378776	1.898199535	2.260628486	2.663150393	3.115945673	3.631748201	4.23766024	4.979283562	5.902420518	7.050605031	8.465328878	10.19766522	12.33174985	14.99149135
0	0.014524879	0.058097548	0.130711235	0.232349581	0.362997385	0.522667105	0.711410279	0.929300691	1.176318069	1.452274057	1.756769931	2.090195431	2.455433204	2.858305672	3.308077774	3.817403312	4.412221637	5.139167609	6.050419355	7.19465273	8.64399865	10.48100179	12.80468529
0	0.013518187	0.054074362	0.121668521	0.216275707	0.337842404	0.486338643	0.661789646	0.864278439	1.093881726	1.350544561	1.634044577	1.944037677	2.281196248	2.648619929	3.051921472	3.500223476	4.006384207	4.599516101	5.330633317	6.249259316	7.433785322	8.988449676	11.01184018
0	0.012655568	0.05062417	0.113908763	0.202488406	0.316299977	0.455285465	0.619437642	0.808803682	1.023474033	1.263496188	1.528802215	1.8191914	2.134515547	2.475809842	2.846332428	3.251439767	3.701201866	4.214278032	4.824353263	5.580135042	6.554315598	7.855363633	9.601932824
0	0.011919126	0.047681041	0.107298514	0.190753638	0.297953336	0.428794339	0.583259684	0.76143632	0.963519378	1.189705219	1.439981274	1.714065884	2.011358392	2.331569629	2.67650128	3.051077489	3.46330836	3.926908588	4.465366478	5.11473468	5.943753058	7.054134912	8.562566692
0	0.01126926	0.045086793	0.101485494	0.180457493	0.281861371	0.405495917	0.551286981	0.719359294	0.910033732	1.123776633	1.360841017	1.620940484	1.903271464	2.206440373	2.530247123	2.878669846	3.260760964	3.690520559	4.184200177	4.767440312	5.501964109	6.484516925	7.823644973
0	0.010733326	0.042944197	0.096673052	0.171924885	0.268560524	0.386331684	0.525093797	0.68493238	0.866152424	1.069292961	1.294861523	1.542878186	1.812723592	2.103152216	2.412609567	2.74271164	3.101560727	3.504309631	3.969228694	4.513425635	5.189826238	6.094159452	7.328152631
0	0.010405994	0.041633859	0.093722051	0.166680743	0.260389129	0.374597023	0.509111169	0.663933106	0.839257193	1.035482492	1.253105017	1.492370615	1.753043393	2.03446562	2.335414998	2.656255545	3.003246118	3.390246289	3.837335755	4.361512084	5.010873618	5.876806369	7.057422322
0	0.010334163	0.041346323	0.093074426	0.165529573	0.258594672	0.37201897	0.505595206	0.659296925	0.83327925	1.027887284	1.243581501	1.480639732	1.738933177	2.017973927	2.316771416	2.635544674	2.980043958	3.36359025	3.806312538	4.325604553	4.968622455	5.825783751	6.99313094
];
[m3,n3]=size(W26x24);

thetaRow001=0:0.01:22.51;   %0:0.01:22.5;    % theta 0.01
WRow001Line20=zeros(2252,n3); %存储导数的数据

for k3_2=1:n3     %依次 各列
    for k3_1=1:(22.51/0.01+1) % 2252行
        WRow001Line20(k3_1,k3_2) =interp2(Flux1x24,theta26x1,W26x24,Flux1x24(k3_2),thetaRow001(k3_1),'spline');
    end
end

Wdiff2251x24=diff(WRow001Line20,1,1);   %上一行减下一行
Wdiff2251x24(1,:)=0;
Wdiff2251x24(2251,:)=0; %去掉第一行和最后一行应该等于零的行

Te2250x24=-Wdiff2251x24/(0.01*2*pi/360);    % Derive Theta of Wrow %机械角度

Te26x24=Te2250x24(1:90:2251,:);   % Diff of Energy W, row26 line24

thetaRow50=thetaRow001(1:90:2251);  % theta row 50
